<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
</body>
</html>
<script>
    async function fetchAllPages() {
        let page = 1;
        let allData = [];


        while (page<=1) {
            const response = await fetch(`http://www.law.go.kr/DRF/lawSearch.do?OC=djwlfdls1&target=lstrm&type=JSON&display=100&page=${page}`);
            if (!response.ok) break; 
            

            
            const reader = response.body.getReader(); // ReadableStreamì„ ì½ëŠ” ë¦¬ë”(reader) ìƒì„±
            const { value, done } = await reader.read(); // ë°ì´í„°ë¥¼ í•œ ë²ˆ ì½ìŒ

            console.log("ðŸ”¹ value (Uint8Array):", value); // ë°”ì´ë„ˆë¦¬ ë°ì´í„°
            console.log("ðŸ”¹ done:", done); // ë°ì´í„°ê°€ ëë‚¬ëŠ”ì§€ ì—¬ë¶€

    
            
            console.log(response);
            const data = await response.json();

            console.log(data);

            // allData.push(...data); 
            page++; 
        }

        console.log("ì´ ë°ì´í„° ê°œìˆ˜:", allData.length);
        return allData;
    }

    fetchAllPages();
</script>
<!-- 
â— í—‰? JSONì´ ì•„ë‹ˆê³  ë°”ì´ë„ˆë¦¬ ë°ì´í„°(ìˆ«ìž ë°°ì—´)ì´ë„¤?
âœ… ReadableStreamì´ê¸° ë•Œë¬¸ì— ë°”ë¡œ JSON ë¬¸ìžì—´ì´ ì•„ë‹ˆë¼ **ë°”ì´ë„ˆë¦¬(Uint8Array)**ë¡œ ë°˜í™˜ë¨.

responseë¡œ
ã„´body-Data
ã„´ë°”ë¡œëª»ì½ìŒ.!!!
ã„´0101...
ã„´ë°”ì´ë„ˆë¦¬.



ðŸ“Œ done: falseì˜ ì´ìœ 
ã„´**response.body.getReader()**ëŠ” ë°ì´í„°ë¥¼ "ì¡°ê°" ë‹¨ìœ„ë¡œ ì½ì–´ì˜´.
ã„´ì²« ë²ˆì§¸ read() í˜¸ì¶œì—ì„œëŠ”, **done: false**ê°€ ë°˜í™˜ë˜ë©´, ë°ì´í„°ê°€ ì•„ì§ ëë‚˜ì§€ ì•Šì•˜ë‹¤ëŠ” ì˜ë¯¸.
ã„´ë”°ë¼ì„œ ë°ì´í„° ìŠ¤íŠ¸ë¦¼ì´ ê³„ì† ì§„í–‰ ì¤‘ì´ê³ , ì¶”ê°€ ë°ì´í„°ë¥¼ ê³„ì† ì½ì„ ìˆ˜ ìžˆë‹¤ëŠ” ëœ».


-->